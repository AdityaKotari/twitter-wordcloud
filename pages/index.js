import Head from "next/head"
import { useEffect, useState } from "react"

import { TextField, Typography, InputAdornment } from "@material-ui/core"
import router from "next/router"

const Home = () => {
    const [username, setUsername] = useState("")

    const handleChange = (e) => {
        e.preventDefault()
        setUsername(e.target.value)
    }
    const handleSubmit = (e) => {
        e.preventDefault()
        router.push(`/stats?username=${username}`)
    }

    return (
        <div>
            <Head>
                <title>Twitter Stats</title>
                <meta
                    name="description"
                    content="Generated by create next app"
                />
                <link rel="icon" href="/favicon.ico" />
            </Head>
            <main>
                <div className="wrapper">
                    <div className="typing-demo">Type in a Twitter handle</div>
                </div>
                <form onSubmit={handleSubmit}>
                    <TextField
                        id="standard-basic"
                        InputProps={{
                          startAdornment: <InputAdornment position="start">@</InputAdornment>,
                        }}
                        onChange={handleChange}
                        onPaste={handleChange}
                    />
                </form>
            </main>
        </div>
    )
}

export default Home
